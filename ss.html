<html>
	<head>
		<link rel="stylesheet" type="text/css" href="css/style.css">
 		<script src="js/angular.min.js"></script>  
	</head>

<body  class="container" ng-app="myApp" ng-controller="myCtrl">
	<div class="checkbox">  
		<center>  <input type="checkbox" name="run" ng-change="fun()" ng-model="checkbox"> RUN </center>
	</div>
	<pre> SPEED </pre>
	<div>
		<input type="range" name="range" ng-model="value" step="10" min="0"  max="100" ng-change="fun()" style=" width:30%;">
	</div>
  		<pre> {{value}}</pre>

  	<div id="clouds">
		<div  ng-hide="!checkbox.value" class="cloud" id="x1"></div>
		<div  ng-hide="!checkbox.value" class="cloud" id="x2" ></div>
	</div>

  	<div>
  		<img ng-src="{{image}}" style="width:40%;height:40%;"/>
  	</div>

<script>
var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope,$interval) 
{
	$scope.image="images/0.jpg";
	$scope.value=0;
		var slides=[];
	var i=0;
	slides[0]="images/0.jpg";
	slides[1]="images/1.jpg";
	slides[2]="images/2.jpg";
	slides[3]="images/3.jpg";
	slides[4]="images/4.jpg";
	slides[5]="images/5.jpg";
	slides[6]="images/6.jpg";
	slides[7]="images/7.jpg";
	slides[8]="images/8.jpg";
	slides[9]="images/9.jpg";
	slides[10]="images/10.jpg";
	slides[11]="images/11.jpg";
	slides[12]="images/12.jpg";
	var ss=$scope.value;


	$scope.fun=function()
	{
		console.log("function calling...");
		if($scope.checkbox==true)
		{
			if($scope.value==0)
			{
			$scope.image="images/0.jpg";
			}
			else
			{
				$scope.image= slides[0];
   				var promise=$interval(function(){
		   				console.log($scope.value);
		      			$scope.image=slides[i++];
		      			if ($scope.image==slides[12]) 
		      			{
		      				i=0;
		      			}
		      			console.log($scope.image);
		    			},100);
                  
 

   				if($scope.value!=ss)
				{
					console.log("not equal");
					$interval.cancel(promise);
				}
    		}	
		}				
		else
		{
				$scope.image="images/0.jpg";
		}	
	}
});
			

</script>
</body>
</html>
			 